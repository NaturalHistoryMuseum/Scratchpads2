/*! wavesurfer.js 1.4.0 (Tue, 09 Oct 2018 15:21:58 GMT)
* https://github.com/katspaugh/wavesurfer.js
* @license BSD-3-Clause */
!function(i,t){void 0===i&&void 0!==window&&(i=window),"function"==typeof define&&define.amd?define(["wavesurfer"],function(i){return t(i)}):"object"==typeof module&&module.exports?module.exports=t(require("wavesurfer.js")):t(i.WaveSurfer)}(this,function(i){"use strict";i.Playlist={init:function(i){this.params=i;var t=this.wavesurfer=i.wavesurfer;if(!this.wavesurfer)throw new Error("No WaveSurfer instance provided");if(this.playlistFileGET=this.params.playlistFile||null,this.playlistType=this.params.playlistType||"m3u",this.playlistData=[],null==this.playlistFileGET)throw new Error("No playlist file provided");var e=t.util.ajax({url:this.playlistFileGET,responseType:"text"}),r=this;e.on("success",function(i,t){r.loadPlaylist(i),r.wavesurfer.fireEvent("playlist-ready")}),e.on("error",function(i){throw new Error("Error reading the playlist fileXHR error: "+i.target.statusText)})},getPlaylist:function(){return this.playlistData},loadPlaylist:function(i){var t=[];if("m3u"!=this.playlistType&&"audio/mpegurl"!=this.playlistType)throw new Error("No valid playlist file provided");t=i.replace(/^.*#.*$|#EXTM3U|#EXTINF:/gm,"").split("\n");for(var e=[],r=0;r<t.length;r++)t[r]&&(-1===t[r].indexOf(".mp3")&&-1===t[r].indexOf(".wav")||e.push(t[r].toString()));this.playlistData=e}},i.util.extend(i.Playlist,i.Observer)});